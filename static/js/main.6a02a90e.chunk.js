(this["webpackJsonpdrum-machine"]=this["webpackJsonpdrum-machine"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(2),i=a.n(r),o=a(8),c=a.n(o),d=(a(14),a(4)),n=a(5),u=a(1),m=a(7),l=a(6),p=(a(15),[{keyCode:81,keyTrigger:"Q",id:"Heater-1",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"},{keyCode:87,keyTrigger:"W",id:"Heater-2",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"},{keyCode:69,keyTrigger:"E",id:"Heater-3",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"},{keyCode:65,keyTrigger:"A",id:"Heater-4",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"},{keyCode:83,keyTrigger:"S",id:"Clap",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3"},{keyCode:68,keyTrigger:"D",id:"Open-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3"},{keyCode:90,keyTrigger:"Z",id:"Kick-n'-Hat",url:"https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"},{keyCode:88,keyTrigger:"X",id:"Kick",url:"https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"},{keyCode:67,keyTrigger:"C",id:"Closed-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3"}]),h=[{keyCode:81,keyTrigger:"Q",id:"Chord-1",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"},{keyCode:87,keyTrigger:"W",id:"Chord-2",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"},{keyCode:69,keyTrigger:"E",id:"Chord-3",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"},{keyCode:65,keyTrigger:"A",id:"Shaker",url:"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"},{keyCode:83,keyTrigger:"S",id:"Open-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3"},{keyCode:68,keyTrigger:"D",id:"Closed-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3"},{keyCode:90,keyTrigger:"Z",id:"Punchy-Kick",url:"https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3"},{keyCode:88,keyTrigger:"X",id:"Side-Stick",url:"https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3"},{keyCode:67,keyTrigger:"C",id:"Snare",url:"https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3"}],k=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={bank:p,power:!0,volume:.5,screen:""},s.changeBank=s.changeBank.bind(Object(u.a)(s)),s.togglePower=s.togglePower.bind(Object(u.a)(s)),s.audioClicked=s.audioClicked.bind(Object(u.a)(s)),s.adjustVolume=s.adjustVolume.bind(Object(u.a)(s)),s.clearDisplay=s.clearDisplay.bind(Object(u.a)(s)),s.audioPressed=s.audioPressed.bind(Object(u.a)(s)),s}return Object(n.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.audioPressed)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.audioPressed)}},{key:"changeBank",value:function(e){this.state.bank===p?(e.target.innerText="beat 2",this.setState({bank:h,display:"beat bank 2 selected"})):(e.target.innerText="beat 1",this.setState({bank:p,display:"beat bank 1 selected"})),setTimeout(this.clearDisplay,1e3)}},{key:"togglePower",value:function(e){this.state.power?this.state.power&&(e.target.innerText="OFF",e.target.classList.remove("green"),e.target.classList.add("red"),this.setState({display:"Power OFF",power:!1})):(e.target.innerText="ON",e.target.classList.remove("red"),e.target.classList.add("green"),this.setState({display:"Power ON",power:!0})),setTimeout(this.clearDisplay,1e3)}},{key:"audioClicked",value:function(e){e.target.children[0].currentTime=0,e.target.children[0].play(),this.setState({display:e.target.children[0].attributes.data.value}),setTimeout(this.clearDisplay,1e3)}},{key:"audioPressed",value:function(e){var t=this.state.bank.filter((function(t){return t.keyCode===e.key.toUpperCase().charCodeAt(0)}));if(t.length>0){var a=document.querySelector("[data='"+t[0].keyTrigger+"']");a.currentTime="0",a.play(),this.setState({display:a.attributes.data.value}),a.parentNode.classList.add("play"),setTimeout((function(){a.parentNode.classList.remove("play")}),200),setTimeout(this.clearDisplay,800)}}},{key:"adjustVolume",value:function(e){this.setState({volume:e.target.value,display:"Volume: ".concat(Math.round(100*e.target.value))}),setTimeout(this.clearDisplay,1e3)}},{key:"clearDisplay",value:function(){this.setState({display:""})}},{key:"render",value:function(){var e=this;return[].slice.call(document.getElementsByClassName("aud")).forEach((function(t){t.volume=e.state.volume})),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"nav",children:[Object(s.jsx)("button",{onClick:this.togglePower,className:"green",children:"ON"}),Object(s.jsx)("button",{onClick:this.changeBank,children:"beat 1"})]}),Object(s.jsx)("input",{type:"range",max:"1",min:"0",step:"0.01",onChange:this.adjustVolume,value:this.state.volume}),Object(s.jsx)("div",{id:"display",className:"screen",children:this.state.display}),Object(s.jsx)("div",{className:"key-map",children:this.state.bank.map((function(t){return Object(s.jsx)(y,{volume:e.state.volume,onClick:e.audioClicked,play:e.state.power,audio:t})}))})]})}}]),a}(i.a.Component),y=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(n.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("button",{id:"drum-pad",className:"drum-pad square",onClick:this.props.onClick,children:[this.props.audio.keyTrigger,Object(s.jsx)("audio",{id:this.props.audio.keyTrigger,data:this.props.audio.keyTrigger,className:"clip aud",src:this.props.play?this.props.audio.url:""})]})}}]),a}(i.a.Component),g=k;c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("drum-machine"))}},[[16,1,2]]]);
//# sourceMappingURL=main.6a02a90e.chunk.js.map